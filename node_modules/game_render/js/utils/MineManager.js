import PowerUpItem from '../object/PowerupItem.js';

import constant from './Constant.js';

export default class MineManager {

    constructor() {
        this.mine = [];
        this.mine[0] = null;
        this.mine[1] = null;
        this.mine[2] = null;
        this.mine[3] = null;
    }

    setData(context, mine) {
        for (let i = 0; i < mine.length; i++) {
            let x, y;
            if (i === 0) {
                x = (7 * 16 + 8 + constant.ORIGIN_X) * constant.SCALE;
                y = (7 * 16 + 8 + constant.ORIGIN_Y) * constant.SCALE;
            }
            if (i === 1) {
                x = (12 * 16 + 8 + constant.ORIGIN_X) * constant.SCALE;
                y = (3 * 16 + 8 + constant.ORIGIN_Y) * constant.SCALE;
            }
            if (i === 2) {
                x = (17 * 16 + 8 + constant.ORIGIN_X) * constant.SCALE;
                y = (7 * 16 + 8 + constant.ORIGIN_Y) * constant.SCALE;
            }
            if (i === 3) {
                x = (12 * 16 + 8 + constant.ORIGIN_X) * constant.SCALE;
                y = (11 * 16 + 8 + constant.ORIGIN_Y) * constant.SCALE;
            }
            switch (mine[i]) {
                case 0:
                    if (this.mine[i] != null) this.mine[i].destroy();
                    this.mine[i] = null;
                    break;
                case 1:
                    if (this.mine[i] == null)
                        this.mine[i] = context.add.existing(new PowerUpItem(context, x, y, 'powerup_stars'));
                    break;
                case 2:
                    if (this.mine[i] == null)
                        this.mine[i] = context.add.existing(new PowerUpItem(context, x, y, 'powerup_speed'));
                    break;
                case 3:
                    if (this.mine[i] == null)
                        this.mine[i] = context.add.existing(new PowerUpItem(context, x, y, 'powerup_flames'));
                    break;
                case 4:
                    if (this.mine[i] == null)
                        this.mine[i] = context.add.existing(new PowerUpItem(context, x, y, 'powerup_bombs'));
                    break;
            }
        }
    }
}
